Version 4
SHEET 1 1068 728
WIRE 432 16 32 16
WIRE 784 16 432 16
WIRE 992 16 784 16
WIRE 256 32 80 32
WIRE 384 32 256 32
WIRE 992 32 992 16
WIRE 256 96 256 32
WIRE 352 96 256 96
WIRE 352 160 352 96
WIRE 736 160 736 32
WIRE 736 160 352 160
WIRE 256 176 256 96
WIRE 992 176 992 112
WIRE 784 240 784 112
WIRE 32 288 32 112
WIRE 240 288 240 240
WIRE 240 288 32 288
WIRE 272 288 272 240
WIRE 432 288 432 112
WIRE 432 288 272 288
WIRE 432 304 432 288
WIRE 784 304 784 240
WIRE 32 320 32 288
WIRE 432 432 432 384
WIRE 432 432 320 432
WIRE 544 432 432 432
WIRE 32 464 32 320
WIRE 320 464 320 432
WIRE 432 464 432 432
WIRE 544 464 544 432
WIRE 784 464 784 384
WIRE 96 560 96 512
WIRE 96 560 32 560
WIRE 256 560 256 512
WIRE 256 560 96 560
WIRE 320 560 256 560
WIRE 368 560 368 512
WIRE 368 560 320 560
WIRE 432 560 368 560
WIRE 480 560 480 512
WIRE 480 560 432 560
WIRE 544 560 480 560
WIRE 784 560 544 560
WIRE 848 560 848 512
WIRE 848 560 784 560
WIRE 432 640 432 560
FLAG 432 640 0
FLAG 992 176 0
FLAG 784 240 Vref
FLAG 432 304 V1
FLAG 32 320 Vd
SYMBOL Opamps\\opamp 320 208 M270
SYMATTR InstName U1
SYMBOL pnp 96 560 R180
SYMATTR InstName Q1
SYMATTR Value 2N5087
SYMBOL pnp 368 560 M180
SYMATTR InstName Q2
SYMATTR Value 2N5087
SYMBOL pnp 848 560 R180
SYMATTR InstName Q3
SYMATTR Value 2N5087
SYMBOL res 416 288 R0
SYMATTR InstName R1
SYMATTR Value 4k
SYMBOL res 768 288 R0
SYMATTR InstName R2
SYMATTR Value 93k
SYMBOL voltage 992 16 R0
SYMATTR InstName V1
SYMATTR Value 3.3v
SYMBOL pmos 80 112 R180
SYMATTR InstName M1
SYMATTR Value AO6407
SYMBOL pmos 384 112 M180
SYMATTR InstName M2
SYMATTR Value AO6407
SYMBOL pmos 736 112 M180
SYMATTR InstName M3
SYMATTR Value AO6407
SYMBOL pnp 480 560 M180
SYMATTR InstName Q4
SYMATTR Value 2N5087
SYMBOL pnp 256 560 M180
SYMATTR InstName Q5
SYMATTR Value 2N5087
TEXT 0 584 Left 2 !.lib opamp.sub
TEXT -8 648 Left 2 !.TEMP -40 -30 -10 20 40 50 80 110
TEXT 0 616 Left 2 !.tran 0 100ms 0 100ms
